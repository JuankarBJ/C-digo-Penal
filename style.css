:root {
    --color-dark-bg: #1f2a38; --color-card-bg: #2b3a4a; --color-light-text: #e8f0f7;
    --color-muted-text: #aebecd; --color-accent-primary: #7296b1; --color-block-bg: #202d3b;
    --color-border: #40566b; --color-icon: #aebecd; --color-accent-red: #e76f51;
    --color-accent-yellow: #f4a261; --color-accent-green: #2a9d8f;
    --sidebar-width: 300px; /* Ancho de la futura sidebar */
}

/* ------------------------------------ */
/* 1. ESTRUCTURA PRINCIPAL              */
/* ------------------------------------ */
body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    background-color: var(--color-dark-bg);
    color: var(--color-light-text);
    display: flex;
    height: 100vh;
    overflow: hidden;
}

#sidebar {
    width: var(--sidebar-width);
    flex-shrink: 0;
    background-color: var(--color-block-bg);
    height: 100vh;
    box-shadow: 3px 0 10px rgba(0,0,0,0.2);
    z-index: 10;
    padding: 25px;
    overflow-y: auto;
}

#content-area {
    flex-grow: 1;
    height: 100vh;
    overflow-y: auto;
    padding: 30px 40px;
}

/* ------------------------------------ */
/* 2. Estilos de Contenido              */
/* ------------------------------------ */
h1, h2, h3, h4, h5 { margin: 0; }
h1 { text-align: center; margin-bottom: 40px; font-size: 1.8em; }

.filtros { max-width: 1200px; margin: 0 auto 30px auto; padding: 15px 25px; background-color: var(--color-card-bg); border-radius: 0.75rem; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); display: flex; align-items: center; gap: 20px; }
.filtros label { font-weight: 600; color: var(--color-muted-text); }
.filtros select { padding: 8px 12px; border: 1px solid var(--color-border); border-radius: 5px; background-color: #1a2531; min-width: 150px; color: var(--color-light-text); }
#delitos-container { max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; gap: 10px; }

/* ... (Todos los demás estilos que ya tenías para tarjetas, grupos, etc.) ... */
.grupo-titulo-header, .grupo-capitulo-header, .grupo-seccion-header, .grupo-subseccion-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; cursor: pointer; user-select: none; border-radius: 8px; transition: background-color 0.2s ease; }
.grupo-titulo-header { background-color: var(--color-card-bg); margin-top: 20px; }
.grupo-titulo-header:hover { background-color: #314255; }
.grupo-titulo-header h2 { font-size: 1.5em; color: var(--color-accent-primary); }
.grupo-capitulo-header { background-color: #263545; }
.grupo-capitulo-header:hover { background-color: #2f3e50; }
.grupo-capitulo-header h3 { font-size: 1.2em; color: var(--color-light-text); }
.contenido-titulo, .contenido-capitulo, .contenido-seccion, .contenido-subseccion, .card-collapsible-content { max-height: 0; overflow: hidden; transition: max-height 0.2s ease-out; }
.contenido-titulo, .contenido-capitulo, .contenido-seccion, .contenido-subseccion { padding-left: 20px; border-left: 2px solid var(--color-border); margin-left: 10px; }
.grupo-wrapper.expanded > .contenido-titulo, .grupo-wrapper.expanded > .contenido-capitulo, .grupo-wrapper.expanded > .contenido-seccion, .grupo-wrapper.expanded > .contenido-subseccion, .delito-card.expanded .card-collapsible-content { max-height: 8000px; }
.grupo-wrapper.expanded > div:not(.card-header) { margin-top: 10px; }
.grupo-wrapper { margin-bottom: 10px; }
.expand-icon-grupo, .expand-icon { transition: transform 0.3s ease-in-out; color: var(--color-muted-text); flex-shrink: 0; }
.expanded > div > .expand-icon-grupo, .delito-card.expanded .expand-icon { transform: rotate(90deg); }
.delito-card { background-color: var(--color-card-bg); border-radius: 0.5rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); border-left: 4px solid; }
.delito-card.leve { border-color: var(--color-accent-green); }
.delito-card.menos-grave { border-color: var(--color-accent-yellow); }
.delito-card.grave { border-color: var(--color-accent-red); }
.card-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; cursor: pointer; user-select: none; gap: 15px; }
.delito-card.expanded .card-header { border-bottom: 1px solid var(--color-border); }
.card-header .info-principal h4 { font-size: 1.1em; color: var(--color-light-text); margin: 0; }
.card-header .info-principal .articulo { font-weight: 600; color: var(--color-muted-text); font-size: 0.9em; }
.gravedad-badge { padding: 5px 10px; border-radius: 15px; font-weight: 700; font-size: 0.8em; color: #fff; white-space: nowrap; }
.gravedad-badge.leve { background-color: var(--color-accent-green); }
.gravedad-badge.menos-grave { background-color: var(--color-accent-yellow); }
.gravedad-badge.grave { background-color: var(--color-accent-red); }
.card-body { padding: 20px; display: flex; flex-direction: column; gap: 20px; }
.card-body .descripcion, .card-body .penas-aplicables { background-color: var(--color-block-bg); padding: 15px; border-radius: 0.5rem; border: 1px solid var(--color-border); }
.card-body .descripcion { font-style: italic; color: var(--color-muted-text); }
.card-body h5 { margin: 0 0 15px 0; font-size: 1.05em; color: var(--color-light-text); border-bottom: 2px solid var(--color-border); padding-bottom: 8px; }
.card-footer { padding: 15px 20px; border-top: 1px solid var(--color-border); font-size: 0.85em; color: var(--color-muted-text); }
.pena-detalle { display: flex; align-items: center; gap: 12px; }
.pena-icon { flex-shrink: 0; width: 24px; height: 24px; }
#sidebar ul { list-style: none; padding: 0; margin: 0; }
.nav-item { display: flex; align-items: center; padding: 10px 15px; border-radius: 6px; cursor: pointer; user-select: none; transition: background-color 0.2s ease; position: relative; }
.nav-item:hover { background-color: var(--color-card-bg); }
.nav-item.active-nav { background-color: var(--color-accent-primary); color: #fff; font-weight: 600; }
.nav-icon { width: 16px; height: 16px; transition: transform 0.2s ease-out; margin-right: 10px; color: var(--color-muted-text); flex-shrink: 0; }
.nav-item.expanded > .nav-icon { transform: rotate(90deg); }
.nav-titulo { font-size: 1.1em; font-weight: 600; color: var(--color-light-text); }
.nav-capitulo { font-size: 1em; padding-left: 25px; }
.nav-submenu { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
.nav-item.expanded + .nav-submenu { max-height: 2000px; }
/* ... después de la regla para .nav-capitulo ... */

.nav-seccion {
    font-size: 0.95em;
    padding-left: 50px; /* Mayor indentación */
    color: var(--color-muted-text);
}

.nav-subseccion {
    font-size: 0.9em;
    padding-left: 75px; /* Aún más indentación */
    font-style: italic;
}

.nav-item.active-nav, .nav-item.active-nav span {
    color: #fff !important; /* Asegura que el texto activo siempre sea blanco */
}